## 1.简单工厂模式

go没有构造函数一说，所以一般会定义 `NewXXX` 函数来初始化相关类。

`NewXXX`函数返回接口时就是**简单工厂模式**，也就是说，golang的一般推荐做法就是简单工厂。

当前目录 `simplefactory`包中只有API接口和`NewAPI`函数为包外可见，封装了实现细节。客户端只需要向工厂请求所需的对象，而无需关心具体的创建细节。

## 2.主要参与者

### 2.1产品接口

所有具体产品类的共同接口，它定义了产品类的基本行为。对应`API`。

### 2.2具体产品类

实现产品接口的具体类，是简单工厂模式中所创建的对象。

### 2.3简单工厂类

负责创建具体产品类的类。它通常包含一个静态方法，该方法根据客户端的需求来实例化并返回对应的具体产品对象。

## 3.工作原理

简单工厂模式的工作原理如下：

1. 客户端通过调用简单工厂类的静态方法，请求创建某个具体产品对象。
2. 简单工厂类根据客户端的请求，使用`条件语句`或其他逻辑来实例化所需的具体产品类对象。
3. 简单工厂类将创建好的具体产品对象返回给客户端，客户端可以直接使用该对象。

简单工厂模式的`优点`包括：

- 客户端代码简洁，只需与简单工厂交互，无需了解具体产品的创建过程。
- 降低了客户端和具体产品之间的耦合，增加了系统的灵活性和扩展性。
- 可以封装复杂的对象创建逻辑，使得客户端代码更加清晰易懂。

然而，简单工厂模式也有一些`缺点`：

- 当需要添加新的产品时，可能需要修改简单工厂类的代码，`违反了开闭原则`。

  > 开闭原则的定义如下：
  >
  > "软件实体（类、模块、函数等）应该是可扩展的，但不可修改的。"
  >
  > 简单来说，开闭原则要求一个软件实体在不修改原有代码的情况下，可以通过扩展来适应新的需求。

- 简单工厂模式将所有产品的创建逻辑集中在一个类中，可能导致该类变得庞大，不利于维护。